<project name="zeebe" basedir=".">
  <target name="copy-linux" unless="${zbctl.linux.skip}">
    <copy file="${zbctl.rootDir}/clients/go/cmd/zbctl/dist/zbctl" tofile="${project.build.directory}/zeebe-broker/bin/zbctl" failonerror="${zbctl.force}" />
  </target>
  <target name="copy-windows" unless="${zbctl.windows.skip}">
    <copy file="${zbctl.rootDir}/clients/go/cmd/zbctl/dist/zbctl.exe" tofile="${project.build.directory}/zeebe-broker/bin/zbctl.exe" failonerror="${zbctl.force}" />
  </target>
  <target name="copy-darwin" unless="${zbctl.darwin.skip}">
    <copy file="${zbctl.rootDir}/clients/go/cmd/zbctl/dist/zbctl" tofile="${project.build.directory}/zeebe-broker/bin/zbctl.darwin" failonerror="${zbctl.force}" />
  </target>
  <target name="mark-executables">
    <chmod dir="${project.build.directory}/zeebe-broker/bin" perm="ugo+rx" includes="zbctl*" failonerror="${zbctl.force}" />
  </target>
  <target name="copy-zbctl" depends="copy-linux,copy-windows,copy-darwin,mark-executables" />
</project>
